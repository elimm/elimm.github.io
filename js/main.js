"use strict";!function(){var n=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return Array.prototype.slice.call(e.querySelectorAll(n))};(function(){var e=function(){return window.pageYOffset||document.documentElement.scrollTop},t=function(n,e){return"-"+Math.floor(n*e)+"px"},r=n("#header")[0],o=r.clientHeight;return function(){return window.addEventListener("scroll",function(){var n=e();n>o||(r.style.backgroundPositionY=t(n,2)+", "+t(n,.25))})}})()(),function(n){return new Promise(function(e){var t=new XMLHttpRequest;t.responseType="json",t.addEventListener("load",function(){return 200===t.status&&t.response?e(t.response):[]}),t.open("GET",n),t.send()})}("/list.json").then(function(n){return Promise.all(n.map(function(n){return new Promise(function(e){var t=new Image;t.src=n.thumbnail,t.alt=n.title+" screenshot",t.className="work__img",t.addEventListener("load",function(){n.image=t,e(n)})})}))}).then(function(e){var t=n("#work__wrap")[0];e.sort(function(){return Math.floor(3*Math.random())-1}).forEach(function(n){var e=document.createElement("div"),r=document.createElement("a");e.className="work__item",r.href=n.link,r.className="work__link",r.target="_blank",r.textContent=n.title,e.appendChild(n.image),e.appendChild(r),t.appendChild(e)})})}();